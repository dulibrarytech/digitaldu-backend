"use strict";var fines={checkApis:function(){var e="https://"+document.domain+"/api/status/authorize",t="https://"+document.domain+"/api/status/alma",a=[e,t],n=new XMLHttpRequest;a.forEach(function(e){n.open("POST",e),n.onload=function(){200!==n.status&&($("form").hide(),$("#apiMessage").html("The Fines & Fees payment system is currently unavailable.  We're sorry for the inconvenience.   Please try again later."))},n.send(null)})},saveBalance:function(e){sessionStorage.setItem("userBalance",e)},disableButton:function(e,t){$("#"+e).click(function(){$(this).prop("disabled",!0),$(this).empty().append(t),$(this).parents("form").submit()})},disablePayButton:function(e,t){$("#"+e).click(function(){var e=$(this).parent().find("input").filter(function(){return""===this.value});0!==e.length&&($(this).prop("disabled",!0),$(this).empty().append(t),$(this).parents("form").submit())})},cancel:function(){$("#cancel").click(function(){$(this).prop("disabled",!0),$(this).empty().append("Cancelling...")})},getBalance:function(){return sessionStorage.getItem("userBalance")},calculateBalance:function(){$('input[type="checkbox"]').on("click",function(){var e,t,a,n=fines.getBalance(),s=parseFloat($(this).val()),i=$(this).is(":checked");if(n=JSON.parse(n),e=parseFloat(n.total),t=i?e+s:e-s,a={total:parseFloat(t).toFixed(2)},"0.00"===a.total){var l='<div class="alert alert-danger"><strong>You must select at least one fine to pay.</strong></div>';$("#payOnline").prop("disabled",!0),$("#message").css("color","red").html(l)}else $("#payOnline").prop("disabled",!1),$("#message").html("");fines.saveBalance(JSON.stringify(a)),$("#balance").html("$"+a.total),$("#fineTotal").val(a.total)})}};