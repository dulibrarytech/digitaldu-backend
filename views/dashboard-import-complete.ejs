<%- include('partials/header.ejs'); %>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css" />
<body class="nav-md">
<div class="container body">
    <div class="main_container">
        <div class="col-md-3 left_col">
            <div class="left_col scroll-view">
                <div class="navbar nav_title" style="border: 0;">
                    <%- include('partials/app-name.ejs'); %>
                </div>
                <div class="clearfix"></div>
                <%- include('partials/menu-profile.ejs'); %>
                <br>
                <%- include('partials/nav.ejs'); %>
                <%- include('partials/sidebar-footer.ejs'); %>
            </div>
        </div>
        <%- include('partials/top-nav.ejs'); %>
        <div class="right_col" role="main">
            <div class="">
                <div class="page-title">
                    <div class="title_left">
                        <h3></h3>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="row">
                    <div id="message" class="alert alert-info"><i class="fa fa-info-circle"></i> Loading...</div>
                    <div id="recent-ingests" class="col-md-12"  style="visibility: hidden">
                        <div class="row"><div id="ping"></div></div>
                        <div class="x_panel" style="min-height: 700px">
                            <div class="x_title">
                                <h2> Ingested records</h2>
                                <ul class="nav navbar-right"><!-- panel_toolbox --></ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <div id="legend">
                                    <p>
                                        <!--
                                        <i class="fa fa-cloud-upload"></i> = Record is unpublished&nbsp;&nbsp;<i class="fa fa-cloud"></i> = Record is published&nbsp;&nbsp;
                                        -->
                                        <i class="fa fa-cloud-upload"></i> <span id="unpublished-records">...</span> ingested records waiting to be published<br>
                                        <i class="fa fa-exclamation" style="color:red"></i> = Problem with record &nbsp;&nbsp;<i class="fa fa-cubes"></i> = Compound Object<br><br>
                                        <!--
                                        <i class="fa fa-info-circle"></i>&nbsp;&nbsp;
                                        <button class="btn-sm btn-primary" disabled>Publishes one record</button>&nbsp;
                                        <button class="btn-sm btn-info" disabled>Publishes all records belonging its collection</button>
                                        <button class="btn-sm btn-danger" disabled>Deletes record</button>
                                        <br>
                                        -->
                                    </p>
                                </div>
                                <table id="completed-imports-table" class="table table-striped table-bordered">
                                    <thead id="completed-imports-table-th-head">
                                    <tr>
                                        <th style="text-align: center; vertical-align: middle; width: 10%">ID</th>
                                        <th style="text-align: center; vertical-align: middle; width: 30%">Object</th>
                                        <th style="text-align: center; vertical-align: middle">ArchivesSpace Record</th>
                                        <!--<th style="text-align: center; vertical-align: middle">Imported On</th>-->
                                        <th style="text-align: center; vertical-align: middle">Status</th>
                                        <th style="text-align: center; vertical-align: middle">Actions</th>
                                    </tr>
                                    </thead>
                                    <tbody id="complete-records"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <%- include('partials/footer.ejs'); %>
    </div>
    <script src="./repo/static/libs/jquery/dist/jquery.min.js"></script>
    <script src="/repo/static/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="/repo/static/libs/nprogress/nprogress.js"></script>
    <script src="/repo/static/libs/validator/jquery.validate.js"></script>
    <script src="/repo/static/libs/dompurify/purify.min.js"></script>
    <script src="/repo/static/libs/moment/moment.min.js"></script>
    <script src="/repo/static/libs/moment/moment.timezone.js"></script>
    <script src="/repo/static/assets/js/theme_sidebar.js"></script>
    <script src="/repo/static/app/dom.module.js"></script>
    <script src="/repo/static/app/config.module.js"></script>
    <script src="/repo/static/app/api.module.js"></script>
    <script src="/repo/static/app/helper.module.js"></script>
    <script src="/repo/static/app/http.module.js"></script>
    <script src="/repo/static/app/user.module.js"></script>
    <script src="/repo/static/app/collections.module.js"></script>
    <script src="/repo/static/app/objects.module.js"></script>
    <script src="/repo/static/app/import.module.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.js"></script>
    <script>
        importModule.getCompleteImportRecords();
        // helperModule.onLoadVisibility('#complete-records', 500);
    </script>
</body>
</html>